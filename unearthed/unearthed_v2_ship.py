# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"F*rfNODgFU|A4rxfH/Ei","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"C%zhqhrdHU~^?(p/dJ(,"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"C6.pQJUSZ*nM(Igmk!.*","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"eGd,H.-uZ:b**#hkxKn(","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"7(~1_O_%zkeR?t`(g.zG","fields":{"VAR":{"id":"SNpom3S==-bKqR`PQ^!T"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"c#|fCa4E(*I+zH8M*1x0","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"r,L6YX_tzDiSBt;OO^=;","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"G~Wxy}:ALTRa#tf]703%","fields":{"VAR":{"id":"5K_y%_pLN@pmIn`S_)qS"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"w=A:@|eNxrysPy}p**u|","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"$Sd)4hgGT;=%V=J:kQO|","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"/tnt-]{,bqXeb;K-gwNK","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"{*,Y`fNQDI5P%-0.u?kN","fields":{"VAR":{"id":"5K_y%_pLN@pmIn`S_)qS","name":"leftWheel","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"93L$G}j~BR5(nNy]1WJ/","fields":{"VAR":{"id":"SNpom3S==-bKqR`PQ^!T","name":"rightWheel","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"yA{V{grUlnw5UKDGCoXx","fields":{"VALUE0":62.5}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"^V~{J4S|_gSa$Xkkzx#q","fields":{"VALUE0":80}}}},"next":{"block":{"type":"variables_set_motor","id":"RMeUuzKpVALj7uuU1!uI","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"Wyn`nfE@E,5R]cPScgYD","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"QkFFq+^RF;$}=X?Vxr]K","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":")q6qU:C7~(jgW#d5okyy","fields":{"VAR":{"id":".bF;E7JpP3sG~G+vRF;^"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"X2W{$=TI.2dzf2pG.,?h","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"89]v4I]5.@W3fmep1i.8","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_stopwatch","id":".eDJpD$yO0+_@,B+g%IL","fields":{"VAR":{"id":")SH|^D~`q@O(Dd5A#fSF"}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":0,"y":473,"deletable":false,"next":{"block":{"type":"blockStopWatchDo","id":"0`/L4ko#/gb=S}f?62uP","extraState":{"optionLevel":0},"fields":{"METHOD":"STOPWATCH_RESET"},"inputs":{"VAR":{"shadow":{"type":"variables_get_stopwatch","id":"/n9f3RY%_,W]CZh/j1ar","fields":{"VAR":{"id":")SH|^D~`q@O(Dd5A#fSF","name":"watch","type":"StopWatch"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"%O=x.w,S9K(KtbL$L9!|","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"L2e)q1Z/-oWwm[Qkup|/","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"xzX/nO0uN1n9C:%MJucl","fields":{"VALUE0":300}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"-?ht8e.1SV8G;/ovD_oS","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"tBEJO:Ngst{3:o^Qim@9","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"YJ@ziaCG46|^24DOU~8h","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockMotorResetAngle","id":"R]IEM7%D#BV+Z^JdFjGB","inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"D*b=hQMUG#AV16i0;QEj","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"tzabIRmy?{_YQ?(s$Vsn","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockDriveBaseResetWithValues","id":"Pu+C2{MtLAfo@Sp.g9by","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"u~K:Ge/nA*]Q_[Wo//pD","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"Ky@`GiuQJHZgnSHgnpRq","fields":{"VALUE0":0}}},"VALUE1":{"shadow":{"type":"unit_angle","id":"u5-A8W-`pWoeZp+CtW|k","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"CIf/=X:u)5q1BKi^n{7L","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"]qn%rByZ`rOpks15zx9(","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockMultiTask","id":"|_c.:.WW0bBJPM-iw1j?","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_RACE"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"7{6a6v}X-hWME=BpZ[ou","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"7X?%@{A(MNRaZT?RF~q@","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"6p9qIW@G}6.we7k;=]{B","fields":{"VALUE0":450}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"F]!Pc|62F*fVE=gO):(B","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockPrint","id":"^0=Y/6y1CCsh=v*aBS4I","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_COMMA_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"]8HRXvz78SSW)nJ$dxA*","fields":{"TEXT":"First distance"}}},"TEXT1":{"shadow":{"type":"text","id":"M_dhT%*L/o?OS8)8?H#]","fields":{"TEXT":"abc"}},"block":{"type":"blockDriveBaseMeasure","id":"(VWl951?Wu3hN9-C[c}r","extraState":{"optionLevel":0},"fields":{"METHOD":"DRIVEBASE_GET_DISTANCE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"0o|5ReXqQ_M/(vM1#{n:","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}}}}}}}}}},"TASK1":{"block":{"type":"blockWaitTime","id":"@O*e/^Egr+L,+fM3PmD1","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"sE|6#@u1a2Y~d,0jMe$q","fields":{"VALUE0":3000}}}},"next":{"block":{"type":"blockPrint","id":",t9N[AvFa%~3h6v]06[Y","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"F(09,|cYp8aO=idH9+Md","fields":{"TEXT":"Forward timeout"}}}}}}}}},"next":{"block":{"type":"blockMotorRun","id":"NNKD+}OQ8fEuTug`}SV3","extraState":{"optionLevel":3},"fields":{"METHOD":"MOTOR_RUN_UNTIL_STALLED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"7N`~mT,hpCk$eI7,02](","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"sr`Jc0*Lexgm36-=DAXS","fields":{"VALUE0":500}}},"LIMIT":{"shadow":{"type":"unit_percent","id":"-KV_})QS]VBS=XZ_qfL1","fields":{"VALUE0":50}}},"THEN":{"shadow":{"type":"parameters_stop_3","id":"o#|}`dQuNr|8a.i_j8nG","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"Mx+}/-g)Z|m*gWEm%iv]","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"~fP?0N3O~CWM2+:!_C[?","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"L+iDz}P6-XdP9V|wS?A-","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ep(yoKezFP`aR@,m7H(s","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"){PXbD_{v3ys6xMy2D|a","fields":{"VALUE0":90}},"block":{"type":"blockMathArithmetic","id":"rKFDrK~,ECDid.O0Ijw|","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"AWpJ[}m~![`b[lm%^72R","fields":{"NUM":0}}},"B":{"shadow":{"type":"blockMathNumber","id":"#73rI-^4F_9CZD^gkyW=","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":"_`.sbl9p3#znvd|1R)8P","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"bDlm8Eay;{wm_n[StDV^","fields":{"VAR":{"id":"C%zhqhrdHU~^?(p/dJ(,","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"PMDbB9WB5SP+r,h`{AsN","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"iS}zE__48_q5$J?ipBwD","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorStop","id":"r:9:EU/+WISVOJLO7UT/","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"]2lHt9/N;Ztf:PHh:_=^","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"DH%1rVdEVU~[tXkN4xkV","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"I#y;}k9NVBR^zSf6@]d8","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"szo``!zB%q9oG+W=*9i6","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"bD~eAS`B~?*tuH~hs~7k","fields":{"VALUE0":800}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"EfTyLh.@L$cFbg,E[rp=","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"U?,{#T}U;G(~2CAM3v[I","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"j]t2]S2_7U)rvBQW77Tq","fields":{"VALUE0":400}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"j;F-hB1EOk}ejS#pot`4","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"*EWkd=4!Id/_6s^}oCFH","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"6@Rpw02,gAu}.ANp}Q.D","fields":{"VALUE0":-600}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"wjoEw;4;;hcs70Urq_P/","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}},"TASK1":{"block":{"type":"blockWaitTime","id":"9:s](R;bv8$KNPhr)8bU","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"OfW}BzmWD6BV;w0/HsRh","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockMotorRun","id":"A6-%@=P1W;?hrYWi-Nhi","extraState":{"optionLevel":3},"fields":{"METHOD":"MOTOR_RUN_UNTIL_STALLED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"~s:5/C`9@G~r,9Vn62:_","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"2pP-Znyc?%MevV(mEkAa","fields":{"VALUE0":-500}}},"LIMIT":{"shadow":{"type":"unit_percent","id":"OrYt+w0hgnI%i?7gdk5W","fields":{"VALUE0":50}}},"THEN":{"shadow":{"type":"parameters_stop_3","id":"G^{Go`)y4PC,d]gb|r{l","fields":{"VALUE":"Stop.HOLD"}}}}}}}}},"next":{"block":{"type":"blockPrint","id":"-tZlcY$5;qlfk]Ri3F/-","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_COMMA_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"/QAgH~z+ZqoE8h~-;k4K","fields":{"TEXT":"Ship run time"}}},"TEXT1":{"shadow":{"type":"text","id":"M_dhT%*L/o?OS8)8?H#]","fields":{"TEXT":"abc"}},"block":{"type":"blockStopWatchTime","id":"W4,Zj*-hWDL@](:BO?ng","inputs":{"VAR":{"shadow":{"type":"variables_get_stopwatch","id":"@835dubNTz}nA`cx5GEL","fields":{"VAR":{"id":")SH|^D~`q@O(Dd5A#fSF","name":"watch","type":"StopWatch"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"t,ok_jDr.PBpLmmr)p0+","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_COMMA_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"-,2ffaP09|j#u9SN8rh]","fields":{"TEXT":"battery"}}},"TEXT1":{"shadow":{"type":"text","id":"tZMbG5+5X6@=vBp.!Viw","fields":{"TEXT":"abc"}},"block":{"type":"blockBatteryMeasure","id":"a/E|D~1`I~pzx6?HLhG6","extraState":{"optionLevel":0},"fields":{"METHOD":"BATTERY_GET_VOLTAGE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_battery_hub","id":"QPCu2uc(pF]UwZ9s_LP@","fields":{"VAR":{"id":"C%zhqhrdHU~^?(p/dJ(,","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"0oA}7$s8H]i0;lgmY#vI","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"h#tCov#U?T`UdM[Jmx.+","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"]1CWQ,?DpFxJ|;4GT0kh","fields":{"VALUE":"Stop.COAST"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"gmx*H(2RxX(*`R{T=E-0","type":"ColorDef"},{"name":"orange","id":"Ct4AyIJQ,DrE^l;Tx,:,","type":"ColorDef"},{"name":"yellow","id":"rMQ.c.kJ(6I}]:4wtq(%","type":"ColorDef"},{"name":"green","id":"vLoDGaqW9-:-}KL_q)x$","type":"ColorDef"},{"name":"cyan","id":"NXY/M;Odq:aCO`VkU#zS","type":"ColorDef"},{"name":"blue","id":",}lGq;mlj8Vp/(:Ua::L","type":"ColorDef"},{"name":"violet","id":"fZ#R=C*j@VkL-KH-xrVY","type":"ColorDef"},{"name":"magenta","id":".$K^mm2m4$hrn1!G|8gH","type":"ColorDef"},{"name":"white","id":"%mCo28$}xIDBm?zPBQ7L","type":"ColorDef"},{"name":"none","id":"c|suGN^w_m0z3b+`HdBW","type":"ColorDef"},{"name":"prime hub","id":"C%zhqhrdHU~^?(p/dJ(,","type":"PrimeHub"},{"name":"drive base","id":"pUx!+O1x?5#WuR`(k$4e","type":"DriveBase"},{"name":"watch","id":")SH|^D~`q@O(Dd5A#fSF","type":"StopWatch"},{"name":"rightWheel","id":"SNpom3S==-bKqR`PQ^!T","type":"Motor"},{"name":"leftWheel","id":"5K_y%_pLN@pmIn`S_)qS","type":"Motor"},{"name":"right motor","id":"g_UP[[y=$R$z/-A4zJRz","type":"Motor"},{"name":"left motor","id":".bF;E7JpP3sG~G+vRF;^","type":"Motor"},{"name":"motor","id":"x+jZ/v{VzkDm~Z!4e=si","type":"Motor"},{"name":"hub","id":"++u|p?v.]AoBk~%B;aA`","type":"InventorHub"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import StopWatch, multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
watch = StopWatch()
rightWheel = Motor(Port.C, Direction.CLOCKWISE)
leftWheel = Motor(Port.D, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(leftWheel, rightWheel, 62.5, 80)
right_motor = Motor(Port.F, Direction.COUNTERCLOCKWISE)
left_motor = Motor(Port.B, Direction.COUNTERCLOCKWISE)

async def subtask():
    await drive_base.straight(450)
    print('First distance', drive_base.distance(), sep=", ")

async def subtask2():
    await wait(3000)
    print('Forward timeout')

async def subtask3():
    right_motor.hold()
    drive_base.settings(straight_speed=800)
    drive_base.settings(straight_acceleration=400)
    await drive_base.straight(-600)

async def subtask4():
    await wait(1000)
    await right_motor.run_until_stalled(-500, Stop.HOLD, 50)

async def main():
    watch.reset()
    drive_base.settings(straight_speed=300)
    drive_base.settings(straight_acceleration=600)
    right_motor.reset_angle(0)
    drive_base.reset(0, 0)
    drive_base.use_gyro(True)
    await multitask(
        subtask(),
        subtask2(),
        race=True,
    )
    await right_motor.run_until_stalled(500, Stop.HOLD, 50)
    await wait(0)
    await drive_base.turn(0 - prime_hub.imu.heading())
    await multitask(
        subtask3(),
        subtask4(),
    )
    print('Ship run time', watch.time(), sep=", ")
    print('battery', prime_hub.battery.voltage(), sep=", ")
    drive_base.stop()


run_task(main())