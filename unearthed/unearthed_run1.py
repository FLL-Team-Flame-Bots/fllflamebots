# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":-475,"y":-145,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"ufDb!N%[#^I/VRf`h3nv","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W["}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"$rqyUh!,h8.)@hev=E?#","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"n}4+#t-QYMKQ+E~yN^sc","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":".+*.;mM34|wr8-+aYpe[","fields":{"VAR":{"id":"Z%yDQt!2HDHNg)trW3gZ"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"YJ15e{$3[-?+H{yArt$l","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"IhrwV`!cTleY5jb[Jeow","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"on1G0G+Oj)OvR_gZveT-","fields":{"VAR":{"id":")UB$X1a,p{d;#uT6)H?q"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"VwLfp5g$^_sdByQyZz,o","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"7Xh5-M$kj6^0ikZFT3yB","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"a/Ri.8FQbzP1MqSmO;pE","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"m5Qqz9zPf}=_V0,s_K4y","fields":{"VAR":{"id":")UB$X1a,p{d;#uT6)H?q","name":"leftwheel","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"MWoVxZ)6(=ei}-TPtGgy","fields":{"VAR":{"id":"Z%yDQt!2HDHNg)trW3gZ","name":"rightwheel","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"FB-or3m;[*_]`gM11[E2","fields":{"VALUE0":62.4}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"0[SL2o|-g#+SsWJ@:Flc","fields":{"VALUE0":80}}}},"next":{"block":{"type":"variables_set_motor","id":"AY+91Hr-Bc`iPi35_*dx","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"qX@Fu$mZ|2`H/(Hu^O}t","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"bRK9kRCMgw[dbXOvpHj`","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"zd@BL@nLrrN:G@MG-0)!","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"la)_Bi?IKqZi]a`WEQ4B","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"qqM;gVGojV?/-9gcczM/","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_setup_any","id":"7lldV$H%;W86;bL1E{NV","fields":{"VAR":{"id":"7o|7d/IF9l}Ar/2hOSaA"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"DNA6U=9%oxp42AE=]zlI","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"POB7ivDuDc1Wy:D?7hUr","fields":{"VAR":{"id":",~!`]:[SM]G=}n3?j5q`"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"XBnmy,jL@M1@Y@EzIJ;z","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_imported_function","id":"$[H.,^AZR]@YnO_lnq%a","fields":{"FROM_MODULE":{"id":"^2Ctj+?o)_nI=~daI|b?"},"VAR":{"id":"gNtLTY0-z;ZW|$rTt(I)"}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-482,"y":441,"deletable":false,"next":{"block":{"type":"blockDriveBaseUseGyro","id":"D!ph,6qcx^8vb,h{_lMg","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"OvIg]^x=xiya=v#mQ,rQ","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"f1}z|N)28#$YFBz_o3,(","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"m!Hf=_nrczqwzix3=L39","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"8-Z~_85Z?ju[P)vS{OHx","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"5N^28k~,0LogvgOo:Sw6","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ETLciXUWl(dXq.@F1X-f","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"-::h,W*bCR4IzNV#09g[","fields":{"VALUE0":150}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"ks!TnCGPSUXeOPS0[JIU","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_TURN_RATE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"MDb9_CDmq~xWIb*j8Piw","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularVelocity","id":"Cc.A13i7zy$B8)zPtTr8","fields":{"VALUE0":90}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"N.%6!rctTfe`fOs3y@LP","extraState":{"optionLevel":4},"fields":{"METHOD":"DRIVEBASE_TURN_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"KVJRxk*9B%5;JlImRM[`","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularAcceleration","id":"d[67yaQV@jDbnRP/oZ10","fields":{"VALUE0":180}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"O!rT]p`MG%q=tC6J0$2y","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"2db34B:[+XMWSN1aO3e~"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"eUjGU.$KvEoDRAP,dPJo","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"OM*^H3gLs]EP!EgvgRrK"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"@`]_%h%~~rm.|~8SeP_H","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"}Pyd03K8LtQ@_el#BgYI"}},"next":{"block":{"type":"blockComment","id":"D@ZJ3aq(pLZ#k:O$1Ba#","fields":{"FIELDNAME":"Leave mission 2, go back"},"next":{"block":{"type":"blockDriveBaseDrive2","id":"GUI}V#IxxgkLeL4h3cgO","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"*ADw1|/0;M#md1[iZAw3","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"RzuDg.y9S302f?[]~7dT","fields":{"VALUE0":40}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Yrr1OrYnO?b@JuO|B-J-","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"T}6M?OPw[5^Q*pa/q(qv","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Uj1^zc9SHY#r3ElCrS-:","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"JL~DXVCh(^K!UxK`-[Qq","fields":{"VALUE0":55}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"lOEiz)0z$jQCUpugktS(","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"aJisk;axKv[u`BK];=75","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"UR,ZQ:sN9)Xgu]BY,vNr","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":".+fz2_*YEoyTF1TUM]J!","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":".qbPuFpxx^OU*Ml9AzTX","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"vJ}5/*SXW/hF?agBjWy/","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"%O$P[/EV#C,@1ubn]i~[","fields":{"VALUE0":500}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"[ItKY!0Ca5D}8=uDPf?l","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"eCMR.Z-b1:-]}1#V{L]7","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"v`H{So*YUR122P;[fTb|","fields":{"VALUE0":800}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"p[n!RbgeO0LM0$3`V2S8","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"1HB#2+QOC$^,O3UDs)5Y","x":779,"y":-177,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"2db34B:[+XMWSN1aO3e~"}},"inputs":{"STACK":{"block":{"type":"blockComment","id":"^yuJVzzD%wzX{j=$*Y,X","fields":{"FIELDNAME":"Backward drive to mission 03, life both arms to appropriate angle."},"next":{"block":{"type":"blockMultiTask","id":"3+`j}mQpM;_nzK|oq}5^","extraState":{"optionLevel":1},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorRun","id":"x}?gZzRR5IB_2]0XK.Az","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"Z/VLbjo*aZ%q[gl?W!O_","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0","name":"left motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"#jBOqXBlVqxv9[yR5iaC","fields":{"VALUE0":1000}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"rPv0e{U{Dprqo8=D)f.G","fields":{"VALUE0":400}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Mq.2$#mU23WZas1=}=BI","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"%0f@-u`}T3~S?H?u)Z2.","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":":--=U}GGdK^^yeTV*z-u","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"+bYdv%;?0p,~7#ULn+Fc","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"QTb^j%JdANdbKKpjCYn)","fields":{"VALUE0":30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"g~g7lGO[g0_FE4,N{94-","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK2":{"block":{"type":"blockDriveBaseDrive2","id":"5paf#U^-GCfZJwQx{HKO","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"XVzjV6+jYs`!.kR^J/5m","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"4(1wDIt9lz[[ZIxLCmB6","fields":{"VALUE0":-747}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"y!p0d1?o4:q(dIj`na)3","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockPrint","id":"Vmc_zEDjAshNwtUX:o3V","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{.!lUpD!t3,4p-}|HiG[","fields":{"TEXT":"abc"}},"block":{"type":"blockListCreate","id":"zQk]oHORyD@U/*oL0Xj9","extraState":{"optionLevel":2},"inputs":{"ADD0":{"shadow":{"type":"blockMathNumber","id":"M7,ZLjfhpOp?.1JQi~Sd","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"4v^P)#JkEGlHO{pv0DEz","fields":{"TEXT":"Backup distance"}}},"ADD1":{"shadow":{"type":"blockMathNumber","id":"/~@vcp._!Ma7)1hmu51C","fields":{"NUM":0}},"block":{"type":"blockDriveBaseMeasure","id":"/l$i+gA*Y*!3_j8gcV6:","extraState":{"optionLevel":0},"fields":{"METHOD":"DRIVEBASE_GET_DISTANCE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"#?-fItZ@a3haq_w^C[uq","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}}}}}}}}},"next":{"block":{"type":"blockComment","id":"GbzD/zN$,oHqTDzVTh)0","fields":{"FIELDNAME":"Use AccurateTurn because the turn angle is critical to the success of mission 4."},"next":{"block":{"type":"blockImportTaskCallStatement","id":"EV*Xh$P[@=dbd)(Bh6{.","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"`M4_?*(@~S;0si.#K?_+","fields":{"VAR":{"id":"gNtLTY0-z;ZW|$rTt(I)","name":"AccurateTurn","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"71JcP/|kdL,4)Qs2ROtF","fields":{"NUM":-90}},"block":{"type":"blockreadOnlyGetter","id":"XdPT`h:YGM?+im,n/?GZ","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W["}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"+k`!4`OOWs2lqs-rEm+W","fields":{"NUM":-90}},"block":{"type":"blockreadOnlyGetter","id":"y/:=X4hHkl#lq!zY2UwF","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"}6V/D2d0K1L0IJHUl6U(","fields":{"NUM":-90}}}},"next":{"block":{"type":"blockVariableSetValue","id":"~-FHEK~`[}85s`aJ+i2f","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"r!]1)tMvgaB$SdRwE%Nn","fields":{"VAR":{"id":"7o|7d/IF9l}Ar/2hOSaA","name":"heading","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"eo=E*o*ZDTrz@U;(K7U4","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"r}xYGk+VGvP}P4[ed6lQ","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"N}=0WKeO|c6^P$s2cbUP","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"Epif#G:MxpBT7p=TDQ*t","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{.!lUpD!t3,4p-}|HiG[","fields":{"TEXT":"abc"}},"block":{"type":"blockListCreate","id":"es)1v{N#zs[BRI5eAl}:","extraState":{"optionLevel":2},"inputs":{"ADD0":{"shadow":{"type":"blockMathNumber","id":"M7,ZLjfhpOp?.1JQi~Sd","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"f[F%L!eC9{]cuTinTem9","fields":{"TEXT":"Heading after -90 turn"}}},"ADD1":{"shadow":{"type":"blockMathNumber","id":"/~@vcp._!Ma7)1hmu51C","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"X-/d-%HS~8D^?z,{|h.s","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"_FW|R?gN9+s*)*gXa8v0","fields":{"VAR":{"id":"7o|7d/IF9l}Ar/2hOSaA","name":"heading","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"5xxBd1[icUT|HjN,@0L!","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"]Wvq.qWLI/e+DsbG*8{u","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"Y`lZ/+Fl|_,9zy!C@xAh","fields":{"VALUE0":300}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"KTIs;8;JVpi(g.-ExOV`","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"|-_Bt%Q]Is^68r1F+}mb","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"tfC*j?nG~0-+bK@tu:H=","fields":{"VALUE0":100}}}},"next":{"block":{"type":"blockComment","id":"s~,9fM;.j(#Fa-i3]3(~","fields":{"FIELDNAME":"When moving into mission 03/04 position, there is chance the base gets stuck. Set a timer to always stop."},"next":{"block":{"type":"blockMultiTask","id":"?JsHBTF2fSil-i%fP839","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_RACE"},"inputs":{"TASK0":{"block":{"type":"blockVariableSetValue","id":"P9KVTgS25~9-eBsa?H*Q","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"b(j~ENK1/R-j;942%:NL","fields":{"VAR":{"id":",~!`]:[SM]G=}n3?j5q`","name":"distance","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"=f|SGGZh=(khZv,0t~3y","fields":{"NUM":0}},"block":{"type":"blockDriveBaseMeasure","id":"iIHG#M^Z;{x-Q|mk]n`V","extraState":{"optionLevel":0},"fields":{"METHOD":"DRIVEBASE_GET_DISTANCE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"]mG$cX7GKug#1$p({RQ]","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"jAZu(}nRz5~3l:w4~gch","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"0NqLnW,9Y.TLlN_FP!#@","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"!otpq2ZyE1wW3H3X!1K.","fields":{"VALUE0":155}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"w/~2(B%0x5=3;W9,tgCJ","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":";xs+*:svI8/[Mgenmcxx","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"as12!|bKaOoa3%eMa8C|","fields":{"VAR":{"id":",~!`]:[SM]G=}n3?j5q`","name":"distance","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"=f|SGGZh=(khZv,0t~3y","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"njt/.GXXt^=t;EB8LFi2","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"*|OA^iJlt!GZz#F^RwAm","fields":{"NUM":1}},"block":{"type":"blockDriveBaseMeasure","id":"5L5:U2:e:TVahOV/ocMt","extraState":{"optionLevel":0},"fields":{"METHOD":"DRIVEBASE_GET_DISTANCE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":";rqg9W*kQ+%:%hj^Y|mF","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"5A8eBuuD@grAe03#yDv|","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"n*Dd)|^E$+sb5J-hdH/9","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"i${a0gv*X3(Gl6[OyllQ","fields":{"VAR":{"id":",~!`]:[SM]G=}n3?j5q`","name":"distance","type":"Any"}}}}}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockWaitTime","id":"~;xbeA2+YesC_:f;~le}","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"?d!Q]$Q9c_(X[qiFhAIp","fields":{"VALUE0":4000}}}}}}},"next":{"block":{"type":"blockPrint","id":"4MsT-a4^#k.~ige/N:3B","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{.!lUpD!t3,4p-}|HiG[","fields":{"TEXT":"abc"}},"block":{"type":"blockListCreate","id":"BaB2Q_M[HSOyGB=Pc]oY","extraState":{"optionLevel":2},"inputs":{"ADD0":{"shadow":{"type":"blockMathNumber","id":"qY{7pcu3kslt$[$S%iUC","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"Iw$dhS{1RJuDk8~k5F#k","fields":{"TEXT":"Mission 03 drive distance"}}},"ADD1":{"shadow":{"type":"blockMathNumber","id":"zRcS#jzDUmDuok^egTI/","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":";spWef,ZY~f_`b@mH]:8","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"agGXmoY4A/PJA9?uv}L:","fields":{"VAR":{"id":",~!`]:[SM]G=}n3?j5q`","name":"distance","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockComment","id":"}*2s`mCR,b-$vY-:dih(","fields":{"FIELDNAME":"Complete mission 03/04 only if drive base actually moves into position"},"next":{"block":{"type":"blockIfElse","id":"IY*sL#80/A?fSvd7~:VX","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"_CTq,Wev]6*nR!!l3B:2"},"block":{"type":"blockLogicCompare","id":"b2nt{j9uxgbtO9=LOSCB","fields":{"OP1":"GT"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"L[J{tCKrQsUoyv`7Xbwj","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"CXGM_{x17/XoJ)3j[$UP","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"-usA]U8WPdNwC;CetVv?","fields":{"VAR":{"id":",~!`]:[SM]G=}n3?j5q`","name":"distance","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"C0m=0zjeOtz9Y!o3ZqWa","fields":{"NUM":120}}}}}},"DO0":{"block":{"type":"blockMultiTask","id":"bl+%vq{o=G7oF~|NPA~D","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorRun","id":"Hz3|t[K3d8ci},8j.)?j","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"kD?5R2!?.Idb;I.CN!qp","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0","name":"left motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"zTw|/X-/)UJvw8jCDhiy","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"?OXnKSz;IH*9@vMElWa-","fields":{"VALUE0":700}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"3,Q?fd#a5h_b@+Ujv*xm","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":",B-J(hI9?+/$`O2vZ+|I","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"O:g4[Hj{XZDA]vs~lbM:","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"`b^PQS;|+|V*W5..$I{(","fields":{"VALUE0":200}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"O4f$?_uM%q^+Dy%CFz1j","fields":{"VALUE0":150}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"R66HE_:lA_)KuM?gqZ$X","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"%f]6hN}B#dMuN7aS?q$1","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"dyta5zyr0lKH_(g9EAS.","fields":{"VALUE0":500}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"IB;Ru1k@Uofm!Sj_b1R(","x":779,"y":1415,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"OM*^H3gLs]EP!EgvgRrK"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseDrive2","id":"!cZ9pJiae^s+e/Mh-?hf","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"jTbk{nML}#c/M05rRNAU","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"V7o[q3*j:3},~sbTj-0W","fields":{"VALUE0":-150}},"block":{"type":"blockMathOp","id":"rAw=~zE{A=7s)`qehmjr","extraState":{"optionLevel":0},"fields":{"OP":"NEG"},"inputs":{"NUM":{"shadow":{"type":"blockMathNumber","id":"Tpva?C!^t`b)!lzlr=:e","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"5d)4TI{y(}:iLMs$:[xd","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"#aSs!xLDNJ2*z_5O7!B.","fields":{"VAR":{"id":",~!`]:[SM]G=}n3?j5q`","name":"distance","type":"Any"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"]%zYi8zrDk0oi.CNz0a)","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"FO=s6MKAX/K8nkmY.EH]","extraState":{"optionLevel":1},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"c0I4?;*g+SYEmJ,OQCIV","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"r0uYMtlXGzR@4G~^S*AQ","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"72!4u3ru9R.H/w?UqW)E","fields":{"VALUE0":37}},"block":{"type":"blockMathArithmetic","id":"Cu(MQJU:!.`K9xxb;A3*","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"3fPSs@gHsQb}HwuS(ewY","fields":{"NUM":-53}}},"B":{"shadow":{"type":"blockMathNumber","id":"gja;$Xm;XL`=((%ZhqRs","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":"`8G+1S%Wn$[;6B=W?2{0","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"Ika!P#H.dFKFXo@Jy1_:","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"FV3u!NGv=W*gb={8$GL%","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"qL{|^cOx%}sUmq_t^179","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"EuH8yi[,|;-HR@yvWN`o","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0","name":"left motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"?1idb(uID!a#Mx`~8[Cg","fields":{"VALUE0":1500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"HvELaJmW1Y]3I-dOUyOT","fields":{"VALUE0":500}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Vdw,0d=Mv{C*CG?L|YO4","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK2":{"block":{"type":"blockMotorRun","id":"+{fo?PI-r,F=FhCxUml]","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"grH;hl.:+[pO7q;gFxnE","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"B8800j2P(KBX8SeK$Zux","fields":{"VALUE0":1500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"9JK{yOux.rO~$W92xIQQ","fields":{"VALUE0":30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"B?FuogFc.!|AG2`RJ4W9","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"RS/$,yNlizW|w`6(%bck","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ZIysnJI=.zk-hFG{8EhC","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"eN5*+YYX|?fiLb,g~1GY","fields":{"VALUE0":400}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"SPwK8x1B@aur0RC.s:fF","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"JN9Et-d/@u.Yc;r6!.rB","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"2.K[bk(mHM#:gF~?=6_`","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"YE})K2c)-K-1`JDt#R;^","fields":{"VALUE0":10}},"block":{"type":"blockMathArithmetic","id":"87^m!2TNSi+DudB)aXkE","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"qGwIuMNGG7Us+#eE#`LD","fields":{"NUM":-43}}},"B":{"shadow":{"type":"blockMathNumber","id":"5Vbk?ZhT!]?7fb}l)afK","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":"DFAR-(]Fw8eiO8P50oy/","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"N%8Rnxw14t|ajvhnR-yO","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"L=e@(|mMVb?S|Th@sMD)","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"OPRxh}s8~EkO!7Puv(8(","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":";RK4?fZ`FKdp,:i985=D","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"9@S:8j?Pskv^5Z[alh@J","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"Y]fV/dl,FHA,fpTqdIh^","fields":{"VALUE0":30}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"?{WBBC76e$^@*h5/r[jn","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"v9SPO:=D]H:K!($]4h28","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"9Z(+No{ZkEdV4,h,juGp","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0","name":"left motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"?+~m[Sm/9w1;IeuH^NI0","fields":{"VALUE0":1500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"qn0-Xu?]u*9W8;UYEci#","fields":{"VALUE0":-1200}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"ZC|O]h],,E54$])9LQNc","fields":{"VALUE":"Stop.COAST"}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"?{kk)NqI{8WlOF98M:P/","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":".4*[FTcg#cv/5!b#w5/C","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":")LjYipw5PaiiS_gra=wb","fields":{"VALUE0":-120}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Ai{D!_{#iPH(UD0qST=`","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"+9`9.LItWONWE/eKKh$p","extraState":{"optionLevel":1},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"=mQ,@6]ufD?t`W;HP=~*","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"f+MN=VHkr$ZSuS;s5v[3","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"kL87.P7fMPUzV,Mj6lK~","fields":{"VALUE0":-10}},"block":{"type":"blockMathArithmetic","id":"uAEoZitA*VF0^3n5Qyl/","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Ufe9jY=w?ZRff8grzRs,","fields":{"NUM":-50}}},"B":{"shadow":{"type":"blockMathNumber","id":"5Vbk?ZhT!]?7fb}l)afK","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":"a9lq]DM*P/;6{9^B.9Y5","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"1Q/75SyQ7U8lK5-w6*rg","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"@%ONs+E^Tsxdcd6!_B{m","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"c84Ey=^`8(qvC^BJU,i-","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":",W`W0witYkaO,duQf8a2","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"=pi9{63~r#xMV~kX^,Sx","fields":{"VALUE0":1500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"aszafOfOu9$aI~AcuS?T","fields":{"VALUE0":-200}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"hDGopM~v#%q7%?)_/M?W","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK2":{"block":{"type":"blockMotorRun","id":"Ih6T%y7LD-jbq?sCn^t#","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":".lA`9)hsC?hD[7!T7AW6","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0","name":"left motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"7P7ip)|IV?RQY1G7;?BE","fields":{"VALUE0":1500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"!1XeP1MD:S3tc:-.%vSW","fields":{"VALUE0":2000}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"(.}X75{w7_|Uy](EwQsV","fields":{"VALUE":"Stop.COAST"}}}}}}},"next":{"block":{"type":"blockMultiTask","id":"lC,57=wC60#C%w`syY;w","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_RACE"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"{Zn~~0CJ1}8XGrq]2`Fg","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Ce`8V?D]f#Fa5?N[ci!i","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"Bpo53}`t?sb*GL=]G%gh","fields":{"VALUE0":80}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"QyJs`A::IT990`7:[KN}","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"tuScw4mQAuCLA45-J;Q|","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"9Km^.yfz3to70j=XVl^L","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"XMQ7rpMPF@ijYEulgAnN","fields":{"VALUE0":-20}},"block":{"type":"blockMathArithmetic","id":"E-9-fp8j)B4z-eW+$N2m","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"brNuUHRRi]wk*CC8/T$Z","fields":{"NUM":-70}}},"B":{"shadow":{"type":"blockMathNumber","id":"5Vbk?ZhT!]?7fb}l)afK","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":"s:0$FS3cRMc6y$su2^!F","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"@~(V*zc)IPaDEarVdKQ(","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"vw+D]@+Hd#c5O4IK+e`e","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"9VX(s@zP1$_=mpu?|l_Y","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"npM_^p}2E+1P/l`Paj}_","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":";{@{`nosQ@Q:[nJAY($H","fields":{"VALUE0":10}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"$=|xJ%LR8e}oq6s|_}0q","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"h#1i=1gCxH[E1VUp^tZ5","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"x,6{BgfA@j/W@u3z:Y.a","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"vb75gtsCw-Cj5u!K8b((","fields":{"VALUE0":200}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"J#yL2;h14/v056ys2!Od","fields":{"VALUE0":100}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"quQ/@kaNCM2*!X4hPjTB","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}},"TASK1":{"block":{"type":"blockWaitTime","id":"o[sW!80`;X/7[rz^($f{","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"eJM8,2lHtqdJdOeOp:`a","fields":{"VALUE0":3000}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"i[iZ]Sb${fZN#*.49[/8","x":1862,"y":-101,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"}Pyd03K8LtQ@_el#BgYI"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseDrive2","id":"S[^u4d!hw{x`*N0caQi8","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Pb;69|KfJD^a[8cG$!Gy","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"06+j5HHNmIY?qDIpDCDP","fields":{"VALUE0":-300}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"|%2uaK@f$XhGlXS+N10T","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"KFnPe@H6Rhd(FnV+Dct_","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"%P9}FvborfAf#O[?Kuc;","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"iYh#ID0XcQr8XSrv%g4*","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"kL87.P7fMPUzV,Mj6lK~","fields":{"VALUE0":-10}},"block":{"type":"blockMathArithmetic","id":"781$nxc2THNYaGH!6~5~","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":".~^;2ToOko-eTfqe{hh-","fields":{"NUM":-45}}},"B":{"shadow":{"type":"blockMathNumber","id":"5Vbk?ZhT!]?7fb}l)afK","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":":wP|Qi/ylpr{=Mf@)0zr","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"QwenS-Eic?!!f@(`{`Tf","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"QVE)l?S6}[lyW|SD$-3*","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"F9hX#-H3Kc|zO-2-c}At","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"UFu8UfHuutFtNp#6fdfA","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"SPIH!sA]l`Q=A!ORX^,)","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"G,J1]lF%+7}4_-3|Lmn-","fields":{"VALUE0":300}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"L7v(}2u;]p|#i%`4/h4x","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"KM.r[D(KZ^kxEV~G?iog","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"68V9Acn7D:QgYibs+xM[","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"K}j_R9vTF|HWWZr~6=Oc","fields":{"VALUE0":-150}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"-AMb6S7!D;w_v*)j0/%0","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"g%c|RnB*@](In5pLf?3/","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"H=SNylmY8^$EBB.qk6d1","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"kv9SjWubauBC`:e*jYg.","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"-%ZL*W#UMChJAd~(-cR|","fields":{"VALUE0":-150}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"v_Ek%Hg9v,9:|=RoGLC_","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"CR3`~~SHDwsBhN4R!B4q","type":"ColorDef"},{"name":"orange","id":"S]e(D2WFd.oS8c(:?@q/","type":"ColorDef"},{"name":"yellow","id":"I2UBUT1)l7ju+$|LefI)","type":"ColorDef"},{"name":"green","id":"n9#R8Q7ph@BXw.8@8xVx","type":"ColorDef"},{"name":"cyan","id":"YYk~2ba24Zm^kBTF|~wD","type":"ColorDef"},{"name":"blue","id":"YEotzn8HzZ~nEC/F3-=Z","type":"ColorDef"},{"name":"violet","id":"qUYUXJNU[V5w,$`1op@l","type":"ColorDef"},{"name":"magenta","id":"7dELo+AlJoLqtS_86~PB","type":"ColorDef"},{"name":"white","id":"a?8BZ,HF:t6$]45G:^[z","type":"ColorDef"},{"name":"none","id":"iEC_sf:a4ExZat[%hX7?","type":"ColorDef"},{"name":"drive base","id":"JLonE%/$3FhXQ*y_ov^8","type":"DriveBase"},{"name":"rightwheel","id":"Z%yDQt!2HDHNg)trW3gZ","type":"Motor"},{"name":"leftwheel","id":")UB$X1a,p{d;#uT6)H?q","type":"Motor"},{"name":"left motor","id":"a(duIpB)!sf(0/F.X%e0","type":"Motor"},{"name":"right motor","id":"B-cQ|P89y0FA7TLu(Koy","type":"Motor"},{"name":"prime hub","id":"+D18YnxNodC`x}Oq$|W[","type":"PrimeHub"},{"name":"heading","id":"7o|7d/IF9l}Ar/2hOSaA","type":"Any"},{"name":"distance","id":",~!`]:[SM]G=}n3?j5q`","type":"Any"},{"name":"utility","id":"^2Ctj+?o)_nI=~daI|b?","type":"ModuleImported"},{"name":"AccurateTurn","id":"gNtLTY0-z;ZW|$rTt(I)","type":"FunctionImported"},{"name":"Mission 3","id":"2db34B:[+XMWSN1aO3e~","type":"Function"},{"name":"Mission 13","id":"OM*^H3gLs]EP!EgvgRrK","type":"Function"},{"name":"Mission 2","id":"}Pyd03K8LtQ@_el#BgYI","type":"Function"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

from utility import AccurateTurn

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
rightwheel = Motor(Port.C, Direction.CLOCKWISE)
leftwheel = Motor(Port.D, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(leftwheel, rightwheel, 62.4, 80)
left_motor = Motor(Port.B, Direction.COUNTERCLOCKWISE)
right_motor = Motor(Port.F, Direction.COUNTERCLOCKWISE)

# Initialize variables.
heading = 0
distance = 0

async def subtask():
    global distance
    distance = drive_base.distance()
    await drive_base.straight(155)
    distance = drive_base.distance() - distance

async def subtask2():
    await right_motor.run_angle(200, 150)
    await wait(500)

async def Mission_3():
    global heading, distance
    await wait(0)
    # Backward drive to mission 03, life both arms to appropriate angle.
    await multitask(
        left_motor.run_angle(1000, 400),
        right_motor.run_angle(500, 30),
        drive_base.straight(-747),
    )
    print(['Backup distance', drive_base.distance()])
    # Use AccurateTurn because the turn angle is critical to the success of mission 4.
    await AccurateTurn(prime_hub, drive_base, -90)
    heading = prime_hub.imu.heading()
    print(['Heading after -90 turn', heading])
    drive_base.settings(straight_speed=300)
    drive_base.settings(straight_acceleration=100)
    # When moving into mission 03/04 position, there is chance the base gets stuck. Set a timer to always stop.
    await multitask(
        subtask(),
        wait(4000),
        race=True,
    )
    print(['Mission 03 drive distance', distance])
    # Complete mission 03/04 only if drive base actually moves into position
    if distance > 120:
        await multitask(
            left_motor.run_angle(500, 700),
            subtask2(),
        )

async def Mission_2():
    await wait(0)
    await drive_base.straight(-300)
    await multitask(
        drive_base.turn(-45 - prime_hub.imu.heading()),
        right_motor.run_angle(300, 300),
    )
    await drive_base.straight(-150)
    await right_motor.run_angle(300, -150)

async def subtask3():
    await drive_base.straight(80)
    await drive_base.turn(-70 - prime_hub.imu.heading())
    await drive_base.straight(10)
    await right_motor.run_angle(200, 100)

async def Mission_13():
    await wait(0)
    await drive_base.straight(-distance)
    await multitask(
        drive_base.turn(-53 - prime_hub.imu.heading()),
        left_motor.run_angle(1500, 500),
        right_motor.run_angle(1500, 30),
    )
    await drive_base.straight(400)
    await drive_base.turn(-43 - prime_hub.imu.heading())
    await multitask(
        drive_base.straight(30),
        left_motor.run_angle(1500, -1200, Stop.COAST),
    )
    await drive_base.straight(-120)
    await multitask(
        drive_base.turn(-50 - prime_hub.imu.heading()),
        right_motor.run_angle(1500, -200),
        left_motor.run_angle(1500, 2000, Stop.COAST),
    )
    await multitask(
        subtask3(),
        wait(3000),
        race=True,
    )

async def main():
    drive_base.use_gyro(True)
    drive_base.settings(straight_speed=600)
    drive_base.settings(straight_acceleration=150)
    drive_base.settings(turn_rate=90)
    drive_base.settings(turn_acceleration=180)
    await Mission_3()
    await Mission_13()
    await Mission_2()
    # Leave mission 2, go back
    await drive_base.straight(40)
    await drive_base.turn(55, then=Stop.COAST)
    drive_base.settings(straight_speed=1000)
    drive_base.settings(straight_acceleration=500)
    await drive_base.straight(800)


run_task(main())