# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"ufDb!N%[#^I/VRf`h3nv","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W["}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"uoU[N|[WD22kQ=u/~J[V","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":",0PPZNGd+2w!+X))*[Z$","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":".+*.;mM34|wr8-+aYpe[","fields":{"VAR":{"id":"Z%yDQt!2HDHNg)trW3gZ"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"YJ15e{$3[-?+H{yArt$l","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"IhrwV`!cTleY5jb[Jeow","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"on1G0G+Oj)OvR_gZveT-","fields":{"VAR":{"id":")UB$X1a,p{d;#uT6)H?q"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"VwLfp5g$^_sdByQyZz,o","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"7Xh5-M$kj6^0ikZFT3yB","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"a/Ri.8FQbzP1MqSmO;pE","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"m5Qqz9zPf}=_V0,s_K4y","fields":{"VAR":{"id":")UB$X1a,p{d;#uT6)H?q","name":"leftwheel","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"MWoVxZ)6(=ei}-TPtGgy","fields":{"VAR":{"id":"Z%yDQt!2HDHNg)trW3gZ","name":"rightwheel","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"FB-or3m;[*_]`gM11[E2","fields":{"VALUE0":87.9}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"0[SL2o|-g#+SsWJ@:Flc","fields":{"VALUE0":127}}}},"next":{"block":{"type":"variables_set_motor","id":"AY+91Hr-Bc`iPi35_*dx","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"qX@Fu$mZ|2`H/(Hu^O}t","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"bRK9kRCMgw[dbXOvpHj`","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"zd@BL@nLrrN:G@MG-0)!","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"la)_Bi?IKqZi]a`WEQ4B","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"qqM;gVGojV?/-9gcczM/","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"Zjw=0_98Njq1-$gPr9bH","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"q:,44x}g.qcK^)~r.R5Y"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"3L5y($IcCc;!+zKl6-k*","fields":{"NAME":"E"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"W1P9~0Eie$l;uOIss7M^","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"*3Hd+yR(cIQd+c)euD?6"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"|@*Wsdndic2QTm+Sw7Nz","fields":{"NAME":"A"}}}},"next":{"block":{"type":"variables_setup_any","id":";T5^NVq,;~|C0c.2([T-","fields":{"VAR":{"id":"#2Qg@,mf;[v1+iN($a5,"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"[Q2ZdTSeym;ukRNls1rd","fields":{"NUM":0}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-10,"y":570,"deletable":false,"next":{"block":{"type":"blockMultiTask","id":";dI]}B3^8(^kyJ}}xj,^","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"(wqC.c./Ugr1Z_/nPyp7","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"^?|f.sfgHi3.zd{Pw?pD","fields":{"VAR":{"id":"JLonE%/$3FhXQ*y_ov^8","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"%j;=fl#~|^a78F.$*S:8","fields":{"VALUE0":20}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Fa-P3+:`MvT8D/)D^y%$","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockMultiTask","id":"Rm.fEyL4|r7$I?q$pDUG","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorRun","id":",?fcv5k8(0#:ZY@}gyr*","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"q%f2}OcPda$Jq,Fi9$1g","fields":{"VAR":{"id":"a(duIpB)!sf(0/F.X%e0","name":"left motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"#x;9?fG!p%7G8C-{=dGL","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"Am(LDHn({t],|1bO7BlU","fields":{"VALUE0":360}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"O7.]D(3D@)rAD%)x;6b!","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"`J7.K5!P^k^LPM*VTLMr","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"kAObrla*EY9{hae[19vH","fields":{"VAR":{"id":"B-cQ|P89y0FA7TLu(Koy","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"G?d?9-vWL=;FqUiH|9HQ","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"kZU}2.Pu1_O/-tEnb{~m","fields":{"VALUE0":360}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"e_#QLhK0:4x,jiTT:{.Z","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockPrint","id":"yPPlf/fF|ot|q:/5Sd(o","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{)Q*DG?3iOTrR.^Uo6|/","fields":{"TEXT":"abc"}},"block":{"type":"blockColor","id":"Ak#];%OWBY[auxUBDrhr","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"d*%~[X!Yt9}vvH;FNfn)","fields":{"VAR":{"id":"q:,44x}g.qcK^)~r.R5Y","name":"left color","type":"ColorSensor"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"5G{0?VNTGSy(Cx{Coi`n","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{)Q*DG?3iOTrR.^Uo6|/","fields":{"TEXT":"abc"}},"block":{"type":"blockColor","id":"!hNu+~/`vv??^lXDsNGd","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"7FY8)1?wbwu!h@XtTbRd","fields":{"VAR":{"id":"*3Hd+yR(cIQd+c)euD?6","name":"right color","type":"ColorSensor"}}}}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockVariableSetValue","id":"jw|dN?~xqzipaZdK!]M#","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"i%~2Y:_lr]?:Wr(1O[$r","fields":{"VAR":{"id":"#2Qg@,mf;[v1+iN($a5,","name":"battery voltage","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"=,+ZIk;a}2pg)fj@`e*_","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"E{4Hru,jsMDZR;uH~)rB","fields":{"OP":"DIVIDE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"PlQ0:(V4;m7^B*C(FS,D","fields":{"NUM":1}},"block":{"type":"blockBatteryMeasure","id":"T8~EwjhBy%xC[=I!cpD!","extraState":{"optionLevel":0},"fields":{"METHOD":"BATTERY_GET_VOLTAGE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_battery_hub","id":"`Jw~5btIM1%S1b{*P1vG","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"]o[-N!%g1#_vhQqw-/Rp","fields":{"NUM":1000}}}}}}},"next":{"block":{"type":"blockPrint","id":"c}1?4.%?c6:2Ahq#g~0e","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{)Q*DG?3iOTrR.^Uo6|/","fields":{"TEXT":"abc"}},"block":{"type":"blockListCreate","id":"1szvRRO@`M6#oDcRnwjA","extraState":{"optionLevel":2},"inputs":{"ADD0":{"shadow":{"type":"blockMathNumber","id":"})znh+wDDJ8o*?ohXh^-","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"0@f`}Qh1Dy^]D{jEzgj*","fields":{"TEXT":"Battery voltage: "}}},"ADD1":{"shadow":{"type":"blockMathNumber","id":"x@Sfr{7cy+dUaQ}u5q!H","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"iVv,Ps8^m39V29uz5Vxi","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"iSI*pO@H.K4Mv.Meuos~","fields":{"VAR":{"id":"#2Qg@,mf;[v1+iN($a5,","name":"battery voltage","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockLightMatrixDo","id":"G7Gw7Q9PELBH-mtcX/Xx","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_MATRIX_NUMBER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_light_matrix_hub","id":"Jeq!65D`V,d~i3-dS-T/","fields":{"VAR":{"id":"+D18YnxNodC`x}Oq$|W[","name":"prime hub","type":"PrimeHub"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"lCk%zd#,1Y4nc/ky~[^e","fields":{"NUM":42}},"block":{"type":"blockMathFormula","id":"UaGz+0,C{Hs)bgZn{W|s","extraState":{"optionLevel":1},"fields":{"FORMULA":"round(a,1)"},"inputs":{"a":{"shadow":{"type":"blockMathNumber","id":"#/?,TreGwb7htHb_i(.:","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"q7MzfD7$UscL|D5[::1R","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%fB}2Dc~TDKV9XLht=18","fields":{"VAR":{"id":"#2Qg@,mf;[v1+iN($a5,","name":"battery voltage","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"vTH%]1:#c!bE|vh|-UfL","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"!UmjZ6c5_4a5b;CUj@vj","fields":{"VALUE0":5000}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"CR3`~~SHDwsBhN4R!B4q","type":"ColorDef"},{"name":"orange","id":"S]e(D2WFd.oS8c(:?@q/","type":"ColorDef"},{"name":"yellow","id":"I2UBUT1)l7ju+$|LefI)","type":"ColorDef"},{"name":"green","id":"n9#R8Q7ph@BXw.8@8xVx","type":"ColorDef"},{"name":"cyan","id":"YYk~2ba24Zm^kBTF|~wD","type":"ColorDef"},{"name":"blue","id":"YEotzn8HzZ~nEC/F3-=Z","type":"ColorDef"},{"name":"violet","id":"qUYUXJNU[V5w,$`1op@l","type":"ColorDef"},{"name":"magenta","id":"7dELo+AlJoLqtS_86~PB","type":"ColorDef"},{"name":"white","id":"a?8BZ,HF:t6$]45G:^[z","type":"ColorDef"},{"name":"none","id":"iEC_sf:a4ExZat[%hX7?","type":"ColorDef"},{"name":"prime hub","id":"+D18YnxNodC`x}Oq$|W[","type":"PrimeHub"},{"name":"drive base","id":"JLonE%/$3FhXQ*y_ov^8","type":"DriveBase"},{"name":"rightwheel","id":"Z%yDQt!2HDHNg)trW3gZ","type":"Motor"},{"name":"leftwheel","id":")UB$X1a,p{d;#uT6)H?q","type":"Motor"},{"name":"left motor","id":"a(duIpB)!sf(0/F.X%e0","type":"Motor"},{"name":"right motor","id":"B-cQ|P89y0FA7TLu(Koy","type":"Motor"},{"name":"right color","id":"*3Hd+yR(cIQd+c)euD?6","type":"ColorSensor"},{"name":"left color","id":"q:,44x}g.qcK^)~r.R5Y","type":"ColorSensor"},{"name":"","id":"vVz_[6$mXsqr;OG!a.Zt","type":"Any"},{"name":"battery voltage","id":"#2Qg@,mf;[v1+iN($a5,","type":"Any"},{"name":"data","id":"+lAHzK9U)-2Dn13Eeg8w","type":"Any"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import ColorSensor, Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
left_color = ColorSensor(Port.E)
right_color = ColorSensor(Port.A)
rightwheel = Motor(Port.C, Direction.CLOCKWISE)
leftwheel = Motor(Port.D, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(leftwheel, rightwheel, 87.9, 127)
left_motor = Motor(Port.B, Direction.COUNTERCLOCKWISE)
right_motor = Motor(Port.F, Direction.COUNTERCLOCKWISE)

# Initialize variables.
battery_voltage = 0

async def subtask():
    await drive_base.straight(20, then=Stop.COAST)
    await multitask(
        left_motor.run_angle(500, 360),
        right_motor.run_angle(500, 360),
    )
    print(await left_color.color())
    print(await right_color.color())

async def subtask2():
    global battery_voltage
    battery_voltage = prime_hub.battery.voltage() / 1000
    print(['Battery voltage: ', battery_voltage])
    prime_hub.display.number(round(battery_voltage, 1))
    await wait(5000)

async def main():
    global battery_voltage
    await multitask(
        subtask(),
        subtask2(),
    )


run_task(main())