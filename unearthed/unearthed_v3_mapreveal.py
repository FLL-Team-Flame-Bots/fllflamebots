# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":137,"y":-4,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"|8f$8HsHe]n6)*oQj*Nx","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"B8==mMS.yb{H+|hfu.D}"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"xv9O:#GyIgvoObf?zI7G","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"U},UE/||$S{:E]r!RDY}","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"oo[nFj(dqU|Nl9d:c,$V","fields":{"VAR":{"id":"sqag6!{v6[a+3j:oW796"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"2_U.m9fw5E}1,vAqFWUn","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"ZY/(NZ^EhRe}5^=RaK.)","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"O]$OzY0yT1RU[0LGT;i^","fields":{"VAR":{"id":",A}mQ(##i[HsqlX;/U(#"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"@9Nae_C@N_)9loSOkVDL","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"Asov8sEUOQV77HkAl6_d","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"YoDtlv/-Z6lWv?%(q)[S","fields":{"VAR":{"id":"t1)=*b*Bq_g8H]J[Ed@I"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"hh0B_#pNa4WbC/;,qhy#","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"k]YM6q}%[xgP5Jmoyqg+","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"U:H0v2JZ`b(-jD7mG.WW","fields":{"VAR":{"id":"s~MX{KiJ-Ek|Hr7Rhcb8"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"?1saDZm,+3^cJdgIs)%W","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"QQO0b|f}CO`s65xAb`^1","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"*|UPax^}l]x,aYnz}SE*","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"xf;z!alcuC}3u9lMUBYD","fields":{"VAR":{"id":"sqag6!{v6[a+3j:oW796","name":"leftwheel","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"Er%$(fi7[3cOVs_Z-QDC","fields":{"VAR":{"id":",A}mQ(##i[HsqlX;/U(#","name":"rightwheel","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"BhEZ2{Jz(OU^nKx5m64V","fields":{"VALUE0":62.4}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"JTwPMEO[%Ml:8l{E(/XF","fields":{"VALUE0":80}}}},"next":{"block":{"type":"variables_set_stopwatch","id":"#dBY@,KY[XMe6eTA]44l","fields":{"VAR":{"id":"S7aI_VRFpX8t5.=Xt5aw"}},"next":{"block":{"type":"variables_setup_imported_function","id":"@p+l{wsoX#bU5hPe,^ke","fields":{"FROM_MODULE":{"id":"-5lo2SI1F5DZ)Qn2h3;m"},"VAR":{"id":"VIrZ:u~zGud}e#qTdjSv"}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":191,"y":440,"deletable":false,"next":{"block":{"type":"blockPrint","id":"K*EtnUj1h?Z2|/0CnP_e","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"]U}aT^}TkBsH3JH.w(sK","fields":{"TEXT":"battery"}}},"TEXT1":{"shadow":{"type":"text","id":"XiYs)8/:HWL;8[r})*wd","fields":{"TEXT":"abc"}},"block":{"type":"blockBatteryMeasure","id":"QP3;h!RpiH*?KF2a)@*F","extraState":{"optionLevel":0},"fields":{"METHOD":"BATTERY_GET_VOLTAGE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_battery_hub","id":"Lt::rO9+[HbYRYDjt@V-","fields":{"VAR":{"id":"B8==mMS.yb{H+|hfu.D}","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"CO+/#D3??fsb3CDKWJZ{","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"dzVPQ=aS7]55_R73~@f%","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockMultiTask","id":"qBw17EhNC{*;6wZ:-b(Z","extraState":{"optionLevel":1},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseConfigure","id":"Var38PT/mm:D#VZx:R-`","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"@ODrqkaAK:F9%l?(SGcw","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"|Q7Anr)t$ojAi705%IY1","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"LBuh9_c^wMB!W.TAhP,%","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Mn`CB?6(5lf|{.8I66l3","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"=O/jWotIZk1tk;myb!@t","fields":{"VALUE0":300}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"HDoMjMlZ_Nc/iUJ=jf5(","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Yz.%9x+2,k!.MA=.0+JJ","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"(0$IH-q5_D*m@6$Ga@CW","fields":{"VALUE0":-10}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"RoSyJKC*Q}Bk(u^#0RxM","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseResetWithValues","id":"zFO#:?EdqCr=#CZg;RaY","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"MMoHhUBgm*q/Mn:SU#N#","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"w(YnX1T8G}]a/G:e;MTA","fields":{"VALUE0":0}}},"VALUE1":{"shadow":{"type":"unit_angle","id":"+$Uv.XdR).jHQFnWKRk~","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"j6iCi=4PH}_zw|3wL:Z0","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"2vXWy?!ddgdYo)u4^VJl","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"]ea:aH*moMtmL(?sio:n","fields":{"VALUE0":755}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"-qYGl^NP-FYpV5qlr(T#","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"q;_N;ETbK}bsSG/-bRq*","extraState":{"optionLevel":3},"fields":{"METHOD":"MOTOR_RUN_UNTIL_STALLED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"8G/8rw;yJ{o}En#!8T4_","fields":{"VAR":{"id":"t1)=*b*Bq_g8H]J[Ed@I","name":"leftattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"+Wi]s`a`%TV@4}c`v9dd","fields":{"VALUE0":500}}},"LIMIT":{"shadow":{"type":"unit_percent","id":"-CHqIRH-ZVke,FLG7Fxq","fields":{"VALUE0":50}}},"THEN":{"shadow":{"type":"parameters_stop_3","id":"@?u^A6-:Zid/}Py-+9`=","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorResetAngle","id":"X@I+JE1@nl?%V_`Lt}|o","inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"`%$i{9O8Uz~VHO`3,#4d","fields":{"VAR":{"id":"t1)=*b*Bq_g8H]J[Ed@I","name":"leftattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"aC{NPH{t1`2Di-PMlGU,","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockMotorRun","id":"3rY7[G1m~9y7%^*s:_R@","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"KXY7){@Ux`OKpfmf]u5F","fields":{"VAR":{"id":"t1)=*b*Bq_g8H]J[Ed@I","name":"leftattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"Bkw4/=9K~W1gF_}[((I:","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"R*U~)WOC^-,E.@7_e7!T","fields":{"VALUE0":-150}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"mbekZJ=:AY^amuz74Y3J","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}},"TASK2":{"block":{"type":"blockMotorRun","id":"?[n5#8g]Gq=g^`a|qN6,","extraState":{"optionLevel":3},"fields":{"METHOD":"MOTOR_RUN_UNTIL_STALLED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"#i:qtp,2y7=.a}sL;@Fe","fields":{"VAR":{"id":"s~MX{KiJ-Ek|Hr7Rhcb8","name":"rightattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"KrHqgkC|[)w?luWcwuG+","fields":{"VALUE0":500}}},"LIMIT":{"shadow":{"type":"unit_percent","id":"b6Yb{IR+LB%@CF}d;x9r","fields":{"VALUE0":50}}},"THEN":{"shadow":{"type":"parameters_stop_3","id":"ooaZU[#Yj?0jz$s9*_O5","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorResetAngle","id":"JM)0.b7C`Pikn?V`spgc","inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"]BG9O{Qbf/?U5uAaL$/P","fields":{"VAR":{"id":"s~MX{KiJ-Ek|Hr7Rhcb8","name":"rightattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"#sErawqZ$I-S.l6Uvq[q","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockMotorRun","id":"rFm)XW$j_3iq,Z8z3VKG","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"^uCYZ9rF2ov,$5VDjf;#","fields":{"VAR":{"id":"s~MX{KiJ-Ek|Hr7Rhcb8","name":"rightattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"ar})U9E8QBM=d(CrVD$d","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"%uosRw:2`alF4%=R+RTy","fields":{"VALUE0":-100}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"$1HE?~d45mHKJq6j(6?p","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}},"next":{"block":{"type":"blockComment","id":"yG#m-]D!p`DFVH$eQ4_t","fields":{"FIELDNAME":"Turn toward map reveal"},"next":{"block":{"type":"blockDriveBaseConfigure","id":"OmPeR7adG7@7sOZ9FsfA","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_TURN_RATE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"~l!*~${2W1_G.pE}rYjp","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularVelocity","id":"_yMCajeH9HAVIxiu)y$5","fields":{"VALUE0":360}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"vrrchLFQE8Q,EX:eYb|/","extraState":{"optionLevel":4},"fields":{"METHOD":"DRIVEBASE_TURN_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"=?xiH5Y=x9hDP_rO4$:B","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularAcceleration","id":"6zU#^ntNYi=P1N,tJCp(","fields":{"VALUE0":360}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"W[Tf2r-x4#5]TJh/24{*","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"}ghMo+NR-(mlZ+wFq!YF","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"xS8ml~C0Rgg*,KAl;N^`","fields":{"VALUE0":-47}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Y2Y]%}IQH}o|9ua%PgWN","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"DOO/GkGNjVRW]dld^f9O","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"?,_z}wUEc#z]Ze:-!@2K","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"yJ}i@,BP^uped?^^ZDMJ","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"LHn4#p8EJLF.)9p$baoa","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"7v*hLYyO^bi^T+0M8|Q1","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"F+=zJ;b$T3j{I^pa8pD/","fields":{"VALUE0":400}}}},"next":{"block":{"type":"blockMultiTask","id":"uHEcK{S9y/L:]0J7E~Dm","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_RACE"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"ji,dnCunnOX`~..SOb(V","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"s(^_`Uhpx@74]g,nkk!!","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"YjeGZlVQ%+bm=BO*Bo,.","fields":{"VALUE0":170}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"0S;dOhu]:u_9vF:aB*a$","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockWaitTime","id":"ez$n47wY9d)!|=;o`1tP","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"FuhyDPKX|#fj}26yzjWY","fields":{"VALUE0":2500}}}},"next":{"block":{"type":"blockPrint","id":"?7~KHHW19hT!n5P:dO_`","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"7|;d;G,PDAL{l-jmNl_X","fields":{"TEXT":"Move to mission 1 time out"}}}}}}}}},"next":{"block":{"type":"blockComment","id":"Ft7?ej1~}-~jz^x3d6rL","fields":{"FIELDNAME":"Lift top soil"},"next":{"block":{"type":"blockMotorRun","id":"CKvbEaB/./(^}}K|3:st","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"*QV$G7?olTl?#oRiW!bW","fields":{"VAR":{"id":"s~MX{KiJ-Ek|Hr7Rhcb8","name":"rightattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"ycFR0M=.)Y.mQZ8$A#9#","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"}CuL@st0givF{95RDFn*","fields":{"VALUE0":-200}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"w6WX.hnVJq+tVy0S|UPd","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":":x7woG@w(CVL~h}pU?X|","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"t.XpT_Udig]gQr(V`lw-","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"-8-h8175Lv]fGOxFuwJq","fields":{"VALUE0":-150}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"ww]p9f|a/ro-K.nRP?t/","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMultiTask","id":"7tg`|k,?v;YWQPOA}W{x","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockComment","id":"W,e)^7Z-)Pay!-?etkQU","fields":{"FIELDNAME":"Facing mission 2 surface brushing"},"next":{"block":{"type":"blockImportTaskCallStatement","id":"s4vm|@#@AR3q]P16G|N#","extraState":{"optionLevel":5},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"7A4?!.|fQlU7FX*^)6u$","fields":{"VAR":{"id":"VIrZ:u~zGud}e#qTdjSv","name":"steer_turn","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"O{nxeV:CMeVK+k83L}c?","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"3feen;GnpUm%g9%?`^wX","fields":{"VAR":{"id":"B8==mMS.yb{H+|hfu.D}"}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"kuhW(n_e[tLm49py6Z.A","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"1zv~0KuZr8%fhC*=n@Em","fields":{"VAR":{"id":"sqag6!{v6[a+3j:oW796"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"RCJ$Te(~q)RfC~6d,JbO","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"-%fg^uT,Yo*b6d|I4;TS","fields":{"VAR":{"id":",A}mQ(##i[HsqlX;/U(#"}}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":")K[j8o+q!sCj[L7.l]vw","fields":{"NUM":-90}}},"ARG4":{"shadow":{"type":"blockMathNumber","id":"}%^!Hr|b%GqM[NJSf5,/","fields":{"NUM":0}},"block":{"type":"blockLogicTrueFalse","id":"*BQpvOXz}xrQ7d+bZ=^#","fields":{"BOOL":"FALSE"}}}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"2)lVliJ4WS2!=pvYg$D0","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"fm5eO5SwrN]!x)4^2DZ}","fields":{"VAR":{"id":"t1)=*b*Bq_g8H]J[Ed@I","name":"leftattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"1kGWgp-2bqGG1?l;bG)+","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"u/;ITOdI{?^QHs2zDdQ3","fields":{"VALUE0":-380}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"I|K^[ZQUOfr^cAbrfQQ1","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"hDapC{I=4J,C;VbpFN_M","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"w~K47TK#IA$7_bP+6T^5","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"+)2Dx)q6(vR-GkK#W_mF","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"qtc_~o3A)OaCYE%xF_$6","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"sxp4lDRK9^e_[a-s2dm!","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"KJJ+zS$$2%JGIS|JxteD","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"B];:$=KV1Zq6hCZSpqhn","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"!Q^Yj17_8OHE.o)MF71d","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"9h6JnP)8)2Lsn?N4*~y0","fields":{"VALUE0":180}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"`T,{8H*{xDrOd-KS6e/Y","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockComment","id":"1w,z!7b?W.{1[gIa-FxK","fields":{"FIELDNAME":"Lift surface brushing"},"next":{"block":{"type":"blockMotorRun","id":"n+EsHF)cF!R]pl@]`f)s","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"/#kKkk}C%P]$$OJ`-a`2","fields":{"VAR":{"id":"t1)=*b*Bq_g8H]J[Ed@I","name":"leftattachment","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"lK#LN]:;/.]Wzzs)V{rJ","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"}J^?U*xtj=.]u(U[Q/h6","fields":{"VALUE0":-260}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Q8EjLme6*,qYKrNL.ZsD","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockComment","id":"2=|]6IX[?cY%K5[R5GI8","fields":{"FIELDNAME":"Back to home"},"next":{"block":{"type":"blockDriveBaseConfigure","id":"e448l~DeqdfR^*CDk?JD","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"eAwB]Y0osw`S,Z?OPGvF","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"ZF]ZFP[}HsciVdo?hJFm","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"zku/YO%xl]+t0N^6GWui","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":")#]f]48,gW$(f@w!JP:E","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"=[UX`@$2%vdJ1w/a1I;$","fields":{"VALUE0":600}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"|{=`ZRhSz^I({f9gT+ed","extraState":{"optionLevel":5},"fields":{"METHOD":"DRIVEBASE_DRIVE_ARC_DISTANCE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"@)Un=mY2jofl:PWu-j+.","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"zyrtS*,`Kol-D||YcZ7~","fields":{"VALUE0":-150}}},"ARG1":{"shadow":{"type":"unit_distance","id":"6=ZeX)`E-|y9kYvN`_-I","fields":{"VALUE0":-200}}},"ARG2":{"shadow":{"type":"parameters_stop_4","id":"3GlVU1-?LmFhlNa5wG,r","fields":{"VALUE":"Stop.NONE"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"jNmfCif6dN=k2XRUpuPu","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Z)CjjB/-)4^(0Ettdp$/","fields":{"VAR":{"id":"xYXBbuK+}hS#pUuM-BEc","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"%7*W9~#d,o~gscQVKL/=","fields":{"VALUE0":-600}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"b){k^+*I9vG#S*r=Y@EZ","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockPrint","id":"xfc{u8[b/C?Y^cOD[X=s","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_COMMA_ONLY"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"8u9GuLay+CdC7y4}h?af","fields":{"TEXT":"Mapreveal time"}}},"TEXT1":{"shadow":{"type":"text","id":"rCi1{ownGT8k2}kQ6zvG","fields":{"TEXT":"abc"}},"block":{"type":"blockStopWatchTime","id":"qQMf==a7LgRoM69D#x;L","inputs":{"VAR":{"shadow":{"type":"variables_get_stopwatch","id":"M?ec09IsjVC,ANG*Ej5+","fields":{"VAR":{"id":"S7aI_VRFpX8t5.=Xt5aw","name":"watch","type":"StopWatch"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"7bN]Jb0AqU*yv?HJ^1v_","type":"ColorDef"},{"name":"orange","id":";2RV-8tUD*TO@gfq}BkI","type":"ColorDef"},{"name":"yellow","id":"yqe5}*:V1LGFJ,i6SK`c","type":"ColorDef"},{"name":"green","id":"??s:XiPmC~,1]zDeNFtI","type":"ColorDef"},{"name":"cyan","id":"%P-Exd2nUZETePShq(po","type":"ColorDef"},{"name":"blue","id":"r5(Pu*AC#LLH)g_i3-f5","type":"ColorDef"},{"name":"violet","id":"^|`Izt[%tAzuwC^4A=Sn","type":"ColorDef"},{"name":"magenta","id":"f2ohpSd/o4?JpXl6lc9d","type":"ColorDef"},{"name":"white","id":"|1eb2eTkco;~%aDc]qi~","type":"ColorDef"},{"name":"none","id":"kAhK;yKJmiO1Hs?xl,y:","type":"ColorDef"},{"name":"prime hub","id":"B8==mMS.yb{H+|hfu.D}","type":"PrimeHub"},{"name":"drive base","id":"xYXBbuK+}hS#pUuM-BEc","type":"DriveBase"},{"name":"utility","id":"-5lo2SI1F5DZ)Qn2h3;m","type":"ModuleImported"},{"name":"leftwheel","id":"sqag6!{v6[a+3j:oW796","type":"Motor"},{"name":"rightwheel","id":",A}mQ(##i[HsqlX;/U(#","type":"Motor"},{"name":"leftattachment","id":"t1)=*b*Bq_g8H]J[Ed@I","type":"Motor"},{"name":"rightattachment","id":"s~MX{KiJ-Ek|Hr7Rhcb8","type":"Motor"},{"name":"steer_turn","id":"VIrZ:u~zGud}e#qTdjSv","type":"FunctionImported"},{"name":"watch","id":"S7aI_VRFpX8t5.=Xt5aw","type":"StopWatch"},{"name":"hub","id":"2M6$t0G9}8@/m~f4#l(S","type":"InventorHub"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import StopWatch, multitask, run_task, wait

from utility import steer_turn

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
watch = StopWatch()
leftwheel = Motor(Port.D, Direction.COUNTERCLOCKWISE)
rightwheel = Motor(Port.C, Direction.CLOCKWISE)
leftattachment = Motor(Port.B, Direction.COUNTERCLOCKWISE)
rightattachment = Motor(Port.F, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(leftwheel, rightwheel, 62.4, 80)

async def subtask():
    drive_base.settings(straight_speed=600)
    drive_base.settings(straight_acceleration=300)
    await drive_base.straight(-10)
    drive_base.reset(0, 0)
    await drive_base.straight(755)

async def subtask2():
    await leftattachment.run_until_stalled(500, Stop.HOLD, 50)
    leftattachment.reset_angle(0)
    await leftattachment.run_angle(500, -150)

async def subtask3():
    await rightattachment.run_until_stalled(500, Stop.HOLD, 50)
    rightattachment.reset_angle(0)
    await rightattachment.run_target(500, -100)

async def subtask4():
    await wait(2500)
    print('Move to mission 1 time out')

async def subtask5():
    # Facing mission 2 surface brushing
    await steer_turn(prime_hub, leftwheel, rightwheel, -90, False)

async def main():
    print('battery', prime_hub.battery.voltage())
    drive_base.use_gyro(True)
    await multitask(
        subtask(),
        subtask2(),
        subtask3(),
    )
    # Turn toward map reveal
    drive_base.settings(turn_rate=360)
    drive_base.settings(turn_acceleration=360)
    await drive_base.turn(-47)
    drive_base.settings(straight_speed=600)
    drive_base.settings(straight_acceleration=400)
    await multitask(
        drive_base.straight(170),
        subtask4(),
        race=True,
    )
    # Lift top soil
    await rightattachment.run_angle(500, -200)
    await drive_base.straight(-150)
    await multitask(
        subtask5(),
        leftattachment.run_target(500, -380),
    )
    drive_base.settings(straight_speed=600)
    drive_base.settings(straight_acceleration=600)
    await drive_base.straight(180)
    # Lift surface brushing
    await leftattachment.run_target(500, -260)
    # Back to home
    drive_base.settings(straight_speed=600)
    drive_base.settings(straight_acceleration=600)
    await drive_base.arc(-150, distance=-200, then=Stop.NONE)
    await drive_base.straight(-600)
    print('Mapreveal time', watch.time(), sep=",")


run_task(main())