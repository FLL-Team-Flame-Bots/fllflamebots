# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"F*rfNODgFU|A4rxfH/Ei","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"C%zhqhrdHU~^?(p/dJ(,"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"C6.pQJUSZ*nM(Igmk!.*","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"eGd,H.-uZ:b**#hkxKn(","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"7(~1_O_%zkeR?t`(g.zG","fields":{"VAR":{"id":"SNpom3S==-bKqR`PQ^!T"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"c#|fCa4E(*I+zH8M*1x0","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"r,L6YX_tzDiSBt;OO^=;","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"G~Wxy}:ALTRa#tf]703%","fields":{"VAR":{"id":"5K_y%_pLN@pmIn`S_)qS"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"w=A:@|eNxrysPy}p**u|","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"$Sd)4hgGT;=%V=J:kQO|","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"/tnt-]{,bqXeb;K-gwNK","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"{*,Y`fNQDI5P%-0.u?kN","fields":{"VAR":{"id":"5K_y%_pLN@pmIn`S_)qS","name":"leftWheel","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"93L$G}j~BR5(nNy]1WJ/","fields":{"VAR":{"id":"SNpom3S==-bKqR`PQ^!T","name":"rightWheel","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"yA{V{grUlnw5UKDGCoXx","fields":{"VALUE0":62.5}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"^V~{J4S|_gSa$Xkkzx#q","fields":{"VALUE0":80}}}},"next":{"block":{"type":"variables_set_motor","id":"RMeUuzKpVALj7uuU1!uI","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"Wyn`nfE@E,5R]cPScgYD","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"QkFFq+^RF;$}=X?Vxr]K","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":")q6qU:C7~(jgW#d5okyy","fields":{"VAR":{"id":".bF;E7JpP3sG~G+vRF;^"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"X2W{$=TI.2dzf2pG.,?h","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"89]v4I]5.@W3fmep1i.8","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":0,"y":393,"deletable":false,"next":{"block":{"type":"blockDriveBaseConfigure","id":"%O=x.w,S9K(KtbL$L9!|","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"L2e)q1Z/-oWwm[Qkup|/","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"xzX/nO0uN1n9C:%MJucl","fields":{"VALUE0":270}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"CIf/=X:u)5q1BKi^n{7L","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"]qn%rByZ`rOpks15zx9(","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"7{6a6v}X-hWME=BpZ[ou","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"7X?%@{A(MNRaZT?RF~q@","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"6p9qIW@G}6.we7k;=]{B","fields":{"VALUE0":503}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"F]!Pc|62F*fVE=gO):(B","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"]^Ny+v(*VXGQ#O)J:y{B","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"]-2^Q;7`Qv/*HlogqUC`","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"X(-PpZpbB0M+JyRB-Rf^","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"~p:3Tp5}4=rF5;3IRAkA","fields":{"VALUE0":210}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"kV^6y7z`!Kv+KR(F{.M.","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"j;F-hB1EOk}ejS#pot`4","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"*EWkd=4!Id/_6s^}oCFH","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"6@Rpw02,gAu}.ANp}Q.D","fields":{"VALUE0":-380}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"wjoEw;4;;hcs70Urq_P/","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"j$=|PM#l|bAF(hg:J%_Q","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"lILP,8nOs7l(3qD{/MtE","fields":{"VAR":{"id":"g_UP[[y=$R$z/-A4zJRz","name":"right motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"F~6%lu0-r!;|@,O*h-pj","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"FrFNf[.z367-%/LlL2tu","fields":{"VALUE0":-210}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"@`;PKuc-@z8%#MoN_KO+","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"k7tRAme2MHP{xKlhK%(a","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"RfKG78FD4QOYJ,3IG)Gb","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"T9%Om]#tUtB.?HeT=tG#","fields":{"VALUE0":-30}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"drHTGAM2v3)Y1%?jvf{$","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"RzI7G4~WQHrMwkHaILYs","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"d9?;STKg~C|3TN9)@,.-","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"kR={wT;7`})1XVe2I4MB","fields":{"VALUE0":600}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"N}I4vt45x=-*2u#6i%1J","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":",r.^?lAB!LSD20zsFQ0u","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"jn..;#|+}C|8TArdNFzK","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"6T0c0pDWcnx_M~WeV}Nt","fields":{"VALUE0":40}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"VW8crTOK=T~Y`KkQz|dj","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"=Tt#A_en7}*OtR}xnY]4","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"9?*fF_qkcjSJ-9GD%Oni","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"FG7J,U-@VgUa1C|y8*1H","fields":{"VALUE0":500}}}},"next":{"block":{"type":"blockMotorConfigure","id":"q~]mz@Zfcms.BfumiBQ;","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"QJrJzh%q-9a8%b}6X`!`","fields":{"VAR":{"id":".bF;E7JpP3sG~G+vRF;^","name":"left motor","type":"Motor"}}}},"ARG0":{"shadow":{"type":"unit_angularAcceleration","id":"[sV8+VfG+m9-`:wId2Ve","fields":{"VALUE0":2500}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"T89A^XsK+q^$,g7e#5a5","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Y,4wFp%MP?v?qBOl[]mp","fields":{"VAR":{"id":"pUx!+O1x?5#WuR`(k$4e","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"]40?,^onZzYqu,VB$/*q","fields":{"VALUE0":1000}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"X_}}Wmh5_KsS1(^ujEW%","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockSpeakerBeep","id":"YpU[j|+An@N.HZOrL2g]","inputs":{"VAR":{"shadow":{"type":"variables_get_speaker_hub","id":"oGA-O99q+hVpawoVP:xo","fields":{"VAR":{"id":"C%zhqhrdHU~^?(p/dJ(,","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_frequency","id":"3^P*|.{8`d.nc(+FKnye","fields":{"VALUE0":500}}},"VALUE1":{"shadow":{"type":"unit_time","id":"*6dhyU5j@-{SsU=aRyp6","fields":{"VALUE0":500}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"gmx*H(2RxX(*`R{T=E-0","type":"ColorDef"},{"name":"orange","id":"Ct4AyIJQ,DrE^l;Tx,:,","type":"ColorDef"},{"name":"yellow","id":"rMQ.c.kJ(6I}]:4wtq(%","type":"ColorDef"},{"name":"green","id":"vLoDGaqW9-:-}KL_q)x$","type":"ColorDef"},{"name":"cyan","id":"NXY/M;Odq:aCO`VkU#zS","type":"ColorDef"},{"name":"blue","id":",}lGq;mlj8Vp/(:Ua::L","type":"ColorDef"},{"name":"violet","id":"fZ#R=C*j@VkL-KH-xrVY","type":"ColorDef"},{"name":"magenta","id":".$K^mm2m4$hrn1!G|8gH","type":"ColorDef"},{"name":"white","id":"%mCo28$}xIDBm?zPBQ7L","type":"ColorDef"},{"name":"none","id":"c|suGN^w_m0z3b+`HdBW","type":"ColorDef"},{"name":"prime hub","id":"C%zhqhrdHU~^?(p/dJ(,","type":"PrimeHub"},{"name":"drive base","id":"pUx!+O1x?5#WuR`(k$4e","type":"DriveBase"},{"name":"hub","id":"Y74JK~Pq(gG3MrAJpz[}","type":"InventorHub"},{"name":"rightWheel","id":"SNpom3S==-bKqR`PQ^!T","type":"Motor"},{"name":"leftWheel","id":"5K_y%_pLN@pmIn`S_)qS","type":"Motor"},{"name":"right motor","id":"g_UP[[y=$R$z/-A4zJRz","type":"Motor"},{"name":"left motor","id":".bF;E7JpP3sG~G+vRF;^","type":"Motor"},{"name":"motor","id":"V3yq6Powc~Rp56D$!Q!E","type":"Motor"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import StopWatch, multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
rightWheel = Motor(Port.C, Direction.CLOCKWISE)
leftWheel = Motor(Port.D, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(leftWheel, rightWheel, 62.5, 80)
right_motor = Motor(Port.B, Direction.COUNTERCLOCKWISE)
left_motor = Motor(Port.F, Direction.COUNTERCLOCKWISE)

# Salvage Operation
async def subtask_salvage():
    await drive_base.straight(503)
    await right_motor.run_angle(500, 210)
    await drive_base.straight(-380)
    await right_motor.run_angle(500, -210)
    await drive_base.turn(-30)

# Transportation
async def subtask_transport():
    await drive_base.straight(600)
    await drive_base.turn(40)
    await drive_base.settings(straight_speed=500)
    await left_motor.control.limits(acceleration=2500)
    await drive_base.straight(1000)
    await prime_hub.speaker.beep(500, 500)    

# The main program starts here.
async def main():
    drive_base.settings(straight_speed=270)
    drive_base.use_gyro(True)
    await subtask_salvage()
    await subtask_transport()

run_task(main())